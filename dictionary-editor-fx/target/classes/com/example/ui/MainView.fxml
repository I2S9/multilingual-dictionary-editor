<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.SeparatorMenuItem?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.ui.MainController"
            styleClass="root">

  <top>
    <MenuBar BorderPane.alignment="CENTER" styleClass="top-menu">
      <menus>
        <!-- ─── Fichier ─── -->
        <Menu text="Fichier">
          <items>
            <MenuItem text="Nouveau" onAction="#onNewDictionary"/>
            <MenuItem text="Ouvrir…" onAction="#onImportLift"/>
            <Menu fx:id="recentMenu" text="Ouvrir récent"/>
            <SeparatorMenuItem/>
            <MenuItem text="Enregistrer" onAction="#onSave"/>
            <MenuItem text="Enregistrer sous…" onAction="#onSaveAs"/>
            <SeparatorMenuItem/>
            <MenuItem text="Paramètres" onAction="#onPreferences"/>
            <SeparatorMenuItem/>
            <MenuItem text="Quitter" onAction="#onQuit"/>
          </items>
        </Menu>

        <!-- ─── Édition ─── -->
        <Menu text="Édition">
          <items>
            <MenuItem text="Copier" onAction="#onCopy"/>
            <MenuItem text="Coller" onAction="#onPaste"/>
            <MenuItem text="Couper" onAction="#onCut"/>
          </items>
        </Menu>

        <!-- ─── Vue ─── -->
        <Menu text="Vue">
          <items>
            <Menu text="Objets">
              <items>
                <MenuItem text="Entrées" onAction="#onViewEntries"/>
                <MenuItem text="Sens" onAction="#onViewSenses"/>
                <MenuItem text="Exemples" onAction="#onViewExamples"/>
                <MenuItem text="Notes" onAction="#onViewNotes"/>
                <MenuItem text="Variantes" onAction="#onViewVariants"/>
                <MenuItem text="Étymologies" onAction="#onViewEtymologies"/>
              </items>
            </Menu>
            <Menu text="Langues">
              <items>
                <MenuItem text="Langues objet" onAction="#onViewObjectLangs"/>
                <MenuItem text="Méta-langues" onAction="#onViewMetaLangs"/>
              </items>
            </Menu>
            <Menu text="Navigateur de catégories">
              <items>
                <MenuItem text="Trait" onAction="#onViewTraits"/>
                <MenuItem text="Annotation" onAction="#onViewAnnotations"/>
                <MenuItem text="Field" onAction="#onViewFields"/>
              </items>
            </Menu>
          </items>
        </Menu>

        <!-- ─── Configuration des champs ─── -->
        <Menu text="Configuration des champs">
          <items>
            <MenuItem text="Types de notes" onAction="#onConfigNoteTypes"/>
            <MenuItem text="Types de traductions" onAction="#onConfigTranslationTypes"/>
            <MenuItem text="Langues" onAction="#onConfigLanguages"/>
            <MenuItem text="Types de trait" onAction="#onConfigTraitTypes"/>
            <MenuItem text="Types d'annotation" onAction="#onConfigAnnotationTypes"/>
            <MenuItem text="Types de field" onAction="#onConfigFieldTypes"/>
          </items>
        </Menu>

        <!-- ─── Outil ─── -->
        <Menu text="Outil">
          <items>
            <MenuItem text="Valider le dictionnaire" onAction="#onValidateDictionary"/>
            <MenuItem text="Exporter en CSV" onAction="#onExportCsv"/>
          </items>
        </Menu>
      </menus>
    </MenuBar>
  </top>

  <left>
    <VBox spacing="14.0" BorderPane.alignment="CENTER" styleClass="left-nav">
      <padding>
        <Insets top="18" right="14" bottom="18" left="14"/>
      </padding>

      <Label text="Navigation" styleClass="section-title"/>

      <Button text="Entrées" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Sens" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Exemples" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Notes" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Variantes" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Étymologies" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>

      <Label text="Navigation par facettes" styleClass="section-title"/>
      <Button text="Langues objet" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Méta-langues" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Tags" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Annotations" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
      <Button text="Type de notes" maxWidth="1.7976931348623157E308" styleClass="nav-button"/>
    </VBox>
  </left>

  <center>
    <VBox spacing="12.0" BorderPane.alignment="CENTER" styleClass="center">
      <padding>
        <Insets top="18" right="18" bottom="18" left="18"/>
      </padding>

      <HBox alignment="CENTER_LEFT" spacing="16">
        <Label text="Tableau Principal" styleClass="panel-title"/>
      </HBox>

      <VBox spacing="10" styleClass="search-bar">
        <HBox spacing="12" alignment="CENTER_LEFT" styleClass="center-toolbar">
          <TextField fx:id="searchField" promptText="Rechercher..." styleClass="search-input" HBox.hgrow="ALWAYS"/>
          <Button text="+ Note" styleClass="note-button"/>
        </HBox>
      </VBox>

      <HBox alignment="CENTER_LEFT" styleClass="section-header">
        <Label text="Entrées" styleClass="section-header-title"/>
      </HBox>

      <javafx.scene.control.TableView fx:id="entryTable" styleClass="entry-table" VBox.vgrow="ALWAYS"/>

      <HBox alignment="CENTER_LEFT" spacing="10" styleClass="table-footer">
        <Label fx:id="tableCountLabel" text="0 entrées affichées sur 0" styleClass="table-footer-text"/>
        <HBox HBox.hgrow="ALWAYS"/>
        <Button text="◀" styleClass="page-button"/>
        <Button text="1" styleClass="page-button"/>
        <Button text="2" styleClass="page-button"/>
        <Button text="3" styleClass="page-button"/>
        <Button text="▶" styleClass="page-button"/>
      </HBox>
    </VBox>
  </center>

  <right>
    <ScrollPane fitToWidth="true" BorderPane.alignment="CENTER" styleClass="right-panel" prefWidth="420">
      <content>
        <VBox fx:id="rightContent" spacing="12.0">
          <padding>
            <Insets top="14" right="14" bottom="14" left="14"/>
          </padding>

          <Label text="Formulaire d'édition" styleClass="panel-title"/>

          <HBox spacing="10" alignment="CENTER_LEFT" styleClass="edit-header">
            <Label fx:id="editEntryTitle" text="(sélectionne une entrée)" styleClass="edit-entry-title"/>
            <Label fx:id="editEntryCode" text="" styleClass="edit-entry-code"/>
          </HBox>

          <!-- Dynamic content is built programmatically by MainController.populateEditor() -->
          <VBox fx:id="editorContainer" spacing="10"/>

          <HBox alignment="CENTER_RIGHT">
            <Button text="Modifier l'entrée" onAction="#onModifyEntry" styleClass="example-add-button"
                    maxWidth="1.7976931348623157E308" HBox.hgrow="ALWAYS"/>
          </HBox>
        </VBox>
      </content>
    </ScrollPane>
  </right>

</BorderPane>
